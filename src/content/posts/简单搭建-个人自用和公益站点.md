---
title: æ­å»ºä¸ªäºº API ä»£ç†ç«™ç‚¹ï¼šCursor API + One API å®Œå…¨æŒ‡å—
published: 2025-01-18
description: æƒ³è¦æ­å»ºè‡ªå·±çš„ API ä»£ç†ç«™ç‚¹ï¼Ÿæœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œåˆ©ç”¨ Cursor API å’Œ One API æ­å»ºä¸€ä¸ªç¨³å®šå¯ç”¨çš„ä»£ç†æœåŠ¡ï¼ŒåŒ…å«å®Œæ•´çš„ç¯å¢ƒé…ç½®ã€éš§é“æ­å»ºå’Œä»¤ç‰Œç®¡ç†ï¼Œè®©ä½ è½»æ¾å®ç°ä¸ªäººä½¿ç”¨æˆ–å…¬ç›Šåˆ†äº«
image: './FILES/ç®€å•æ­å»º-ä¸ªäººè‡ªç”¨å’Œå…¬ç›Šç«™ç‚¹.assets/img-20250118205116.png'
tags: ['Cursor', 'API', 'ngrok', 'one-api', 'ä»£ç†']
category: 'æŠ€æœ¯æ•™ç¨‹'
draft: false 
lang: ''
---

# ä»é›¶å¼€å§‹ï¼šæ­å»ºä¸ªäºº API ä»£ç†æœåŠ¡å®Œå…¨æŒ‡å—

> æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•æ­å»ºä¸€ä¸ªç¨³å®šå¯ç”¨çš„ API ä»£ç†æœåŠ¡ï¼ŒåŒ…æ‹¬åŸºç¡€æ¦‚å¿µè®²è§£å’Œå®æ“æ­¥éª¤ï¼Œé€‚åˆæ–°æ‰‹å…¥é—¨ã€‚

## å‰æœŸå‡†å¤‡

åœ¨å¼€å§‹åŠ¨æ‰‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä»¥ä¸‹å·¥å…·ï¼š
1. Cursor API ç¨‹åºåŒ…ï¼š[ä¸‹è½½åœ°å€](https://raw.githubusercontent.com/damoshen123/curapi/refs/heads/main/cursor-api-main4.rar)![Img](./FILES/ç®€å•æ­å»º%20ä¸ªäººè‡ªç”¨å’Œå…¬ç›Šç«™ç‚¹.assets/img-20250115140538.png)
2. ngrok å†…ç½‘ç©¿é€å·¥å…·
3. One API ç®¡ç†ç¨‹åº

## æ ¸å¿ƒæ¦‚å¿µè¯¦è§£

åœ¨å¼€å§‹å®æ“ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£å‡ ä¸ªå…³é”®æ¦‚å¿µï¼Œè¿™å°†å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£æ•´ä¸ªæ­å»ºè¿‡ç¨‹ã€‚

### 1. Cursor API ä»£ç†æœåŠ¡
è¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒèƒ½å°† Cursor ç¼–è¾‘å™¨çš„ AI èƒ½åŠ›è½¬æ¢ä¸ºæ ‡å‡†çš„ OpenAI API æ ¼å¼ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€ä¸ªç¿»è¯‘å®˜ï¼Œè®©å…¶ä»–åº”ç”¨èƒ½å¤Ÿè½»æ¾è°ƒç”¨ Cursor çš„ AI èƒ½åŠ›ã€‚

### 2. ç½‘ç»œéš§é“æœåŠ¡
æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„ç”µè„‘å°±åƒä¸€ä¸ªå°é—­çš„æˆ¿é—´ï¼Œè€Œç½‘ç»œéš§é“å°±æ˜¯è¿æ¥è¿™ä¸ªæˆ¿é—´å’Œå¤–ç•Œçš„é€šé“ã€‚æˆ‘ä»¬ä½¿ç”¨ ngrok è¿™ä¸ªå·¥å…·æ¥åˆ›å»ºè¿™æ ·çš„é€šé“ï¼Œè®©å¤–éƒ¨ç½‘ç»œèƒ½å¤Ÿè®¿é—®åˆ°ä½ çš„æœ¬åœ°æœåŠ¡ã€‚

### 3. One API ç®¡ç†å¹³å°
è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ API ç®¡ç†å·¥å…·ï¼Œå®ƒèƒ½å¸®ä½ ç»Ÿä¸€ç®¡ç†å’Œåˆ†å‘ API æ¥å£ï¼Œå°±åƒä¸€ä¸ªæ™ºèƒ½ç®¡å®¶ï¼Œå¸®ä½ æ‰“ç†æ‰€æœ‰çš„ API ç›¸å…³äº‹åŠ¡ã€‚

## å®æ“æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šé…ç½® Cursor API æœåŠ¡

åœ¨å¼€å§‹å…·ä½“é…ç½®å‰,æˆ‘ä»¬éœ€è¦å…ˆå‡†å¤‡å¥½ç½‘ç»œç¯å¢ƒã€‚é¦–å…ˆè®¿é—® [ngrokå®˜ç½‘](https://dashboard.ngrok.com/) è·å–é…ç½®ä¿¡æ¯:
![ngroké…ç½®ç•Œé¢](./FILES/ç®€å•æ­å»º-ä¸ªäººè‡ªç”¨å’Œå…¬ç›Šç«™ç‚¹.assets/img-20250123002507.png)

æ¥ä¸‹æ¥æŒ‰é¡ºåºè¿›è¡Œå¦‚ä¸‹æ“ä½œ:

1. **å¯åŠ¨ä»£ç†æœåŠ¡**
   - è¿è¡Œ `curä»£ç†.bat` æ–‡ä»¶
   - é»˜è®¤ä½¿ç”¨ 3000 ç«¯å£
   
2. **ç«¯å£å†²çªè§£å†³**
   å¦‚æœé»˜è®¤ç«¯å£è¢«å ç”¨(æ¯”å¦‚ä¸‹å›¾),éœ€è¦ä¿®æ”¹ç«¯å£:
   ```javascript
   // æ‰“å¼€ src/index.js æ–‡ä»¶
   // æ‰¾åˆ°ç«¯å£é…ç½®
   const port = 3000
   // ä¿®æ”¹ä¸ºæ–°ç«¯å£
   const port = 3002
   ```
   ![ç«¯å£å ç”¨ç¤ºä¾‹](./FILES/ç®€å•æ­å»º%20ä¸ªäººè‡ªç”¨å’Œå…¬ç›Šç«™ç‚¹.assets/img-20250115141736.png)
   è¿™é‡Œçœ‹åˆ°æˆ‘çš„3000ç«¯å£ï¼Œæ­£åœ¨å¯åŠ¨LLOneBot serverï¼Œå› æ­¤æˆ‘éœ€è¦ä¿®æ”¹ç«¯å£ä¸º3002
   > ğŸ’¡ å°è´´å£«ï¼š
   > - å¯ä»¥ä½¿ç”¨ä»»ä½•æœªè¢«å ç”¨çš„ç«¯å£
   > - è®°ä½ä¿®æ”¹åçš„ç«¯å£å·,åé¢é…ç½®è¦ç”¨
   > - å»ºè®®ä½¿ç”¨ 3000-5000 ä¹‹é—´çš„ç«¯å£

### ç¬¬äºŒæ­¥ï¼šé…ç½® One API æœåŠ¡

1. **å¯åŠ¨æœåŠ¡**
   - è¿è¡Œ `æ‰“å¼€Oneapi.bat`
   - é»˜è®¤ç«¯å£ä¸º 3333

2. **è‡ªå®šä¹‰ç«¯å£** (å¯é€‰)
   - å¦‚éœ€ä¿®æ”¹ç«¯å£,ç¼–è¾‘ `æ‰“å¼€Oneapi.bat`
   - æ‰¾åˆ°ç«¯å£é…ç½®é¡¹è¿›è¡Œä¿®æ”¹

3. **å¯åŠ¨éš§é“**
   - ç¡®ä¿æœåŠ¡æ­£å¸¸è¿è¡Œ
   - è®°å½•è¿è¡Œç«¯å£å·

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç½‘ç»œéš§é“ï¼ˆä¸ä½¿ç”¨OneAPI,ç›´æ¥é€šè¿‡ngrokéš§é“ï¼Œç„¶åå¡«å†™Cookieï¼‰

1. **å¯åŠ¨ ngrok**
   - æ‰“å¼€ ngrok ç¨‹åº
   - ç¡®ä¿å·²ç™»å½•è´¦å·

2. **åˆ›å»ºéš§é“**
   ```bash
   # æ›¿æ¢ä¸ºä½ çš„ Cursor API ç«¯å£
   ngrok http 3002
   ```
   ![éš§é“åˆ›å»ºæˆåŠŸ](./FILES/ç®€å•æ­å»º%20ä¸ªäººè‡ªç”¨å’Œå…¬ç›Šç«™ç‚¹.assets/img-20250115142015.png)

   > âš ï¸ é‡è¦æç¤ºï¼š
   > - ç«¯å£å·å¿…é¡»ä¸ Cursor API æœåŠ¡ç«¯å£ä¸€è‡´
   > - ä¿å­˜ç”Ÿæˆçš„éš§é“åœ°å€
   > - ç¡®ä¿éš§é“çŠ¶æ€ä¸ºåœ¨çº¿

### ç¬¬å››æ­¥ï¼šé…’é¦†é…ç½®

åœ¨é…’é¦†ä¸­æ·»åŠ æ–°çš„ API æ¸ é“:

1. **å¿…å¡«ä¿¡æ¯**
   - éš§é“åœ°å€: `ä½ çš„éš§é“åœ°å€/v1`ï¼Œè¿™é‡Œé‡‡ç”¨OneAPIçš„éš§é“åœ°å€
   - APIå¯†é’¥: å¡«å…¥ WorkosCursorSession å€¼
   - é€‰æ‹©æ¨¡å‹: æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¨¡å‹

> ğŸŒŸ é…ç½®å»ºè®®:
> 1. æ‰€æœ‰æœåŠ¡éƒ½è¦ç¡®ä¿æ­£å¸¸è¿è¡Œ
> 2. è®°å½•å¥½æ‰€æœ‰ç«¯å£å’Œåœ°å€
> 3. é‡åˆ°é—®é¢˜å…ˆæ£€æŸ¥ç«¯å£æ˜¯å¦å†²çª
> 4. ä¿å­˜å¥½æ‰€æœ‰é…ç½®ä¿¡æ¯

## å¸¸è§é—®é¢˜è§£å†³

#### 1. çŠ¶æ€æ£€æŸ¥é—®é¢˜
å¦‚æœé‡åˆ° `Status check bypassed`ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œåªè¦æµ‹è¯•æ¶ˆæ¯è¿”å› 200 çŠ¶æ€ç å°±æ˜¯æ­£å¸¸çš„ã€‚

#### 2. 404 é”™è¯¯è§£å†³
- åŸå› ï¼šé€šå¸¸æ˜¯ç«¯å£å†²çªå¯¼è‡´
- è§£å†³ï¼šä¿®æ”¹ Cursor API çš„ç«¯å£å·

#### 3. ç©ºå›å¤é—®é¢˜ä¿®å¤
- æ£€æŸ¥ cookie æ ¼å¼ï¼Œç¡®ä¿ä½¿ç”¨ `%3A` è€Œä¸æ˜¯åŒå†’å·
- æ¨èä½¿ç”¨ [Cookie Editor](https://chromewebstore.google.com/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm) æ’ä»¶æå– cookie

## è¿›é˜¶é…ç½®ï¼šæ‰¹é‡è´¦å·æ¨¡å¼

å¦‚æœä½ éœ€è¦æ›´å¤šè´¦å·ï¼Œå¯ä»¥ï¼š
1. ä½¿ç”¨ [CursorRegister](https://github.com/JiuZ-Chn/CursorRegister) é¡¹ç›®
2. é€šè¿‡å·¥ä½œæµè‡ªåŠ¨åˆ›å»º Cursor è´¦å·
3. è·å– WorkosCursorSession ä¿¡æ¯

## æœ€åä¸€æ­¥

å®Œæˆé…ç½®åï¼Œä½ å°±å¯ä»¥ï¼š
1. å¯åŠ¨ One API éš§é“æœåŠ¡
2. åˆ›å»ºè®¿é—®ä»¤ç‰Œ
3. ä½¿ç”¨éš§é“åœ°å€å’Œ sk å¼€å¤´çš„ä»¤ç‰Œå¼€å§‹ä½¿ç”¨æœåŠ¡

> ğŸŒŸ å°æç¤ºï¼šå¦‚æœéœ€è¦æ›´ç¨³å®šçš„æœåŠ¡ï¼Œå»ºè®®é…ç½®è‡ªå·±çš„åŸŸåï¼Œå…·ä½“æ–¹æ³•å¯å‚è€ƒåŸæ•™ç¨‹ã€‚

## å‚è€ƒèµ„æº
- [åŸå§‹æ•™ç¨‹](https://gxcgf4l6b2y.feishu.cn/docx/GIjidWbiyoSblfxLZ3Fcbc3Wnqg)
- [Cookie Editor æ’ä»¶](https://chromewebstore.google.com/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm)
- [é—®é¢˜è®¨è®º](https://discord.com/channels/1134557553011998840/1327109779310510110)